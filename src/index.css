@tailwind base;
@tailwind components;
@tailwind utilities;

/* Ensure the app fills the viewport */
html, body, #root {
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden;
}

/* ── Leaflet overrides ──────────────────────────────────────── */

/* Map background colour — sampled from the BDO world-map ocean tiles */
.leaflet-container {
  background: rgb(29, 55, 55);
  font-family: inherit;
}

/* Prevent white flash on tile load / zoom */
.leaflet-tile {
  background: transparent !important;
}
.leaflet-tile-container img,
.leaflet-tile img {
  background: transparent !important;
}

/* ── Progressive resolution — tile rendering changes with zoom level ───────
   Low zoom  → tiles are small/coarse; we scale them up with pixelated rendering
              so they look deliberately blocky rather than blurry.
   High zoom → smooth/auto rendering reveals full tile detail.
   Blur fades from 1px → 0 across zoom levels to soften the coarse look at low zoom.
   Transition is instant on zoomend so there's no lag between loading and sharpening. */

[data-zoom="2"] .leaflet-tile-pane { image-rendering: pixelated; filter: blur(0.8px); }
[data-zoom="3"] .leaflet-tile-pane { image-rendering: pixelated; filter: blur(0.4px); }
[data-zoom="4"] .leaflet-tile-pane { image-rendering: pixelated; filter: blur(0.2px); }
[data-zoom="5"] .leaflet-tile-pane { image-rendering: auto;      filter: none; }
[data-zoom="6"] .leaflet-tile-pane { image-rendering: auto;      filter: none; }
[data-zoom="7"] .leaflet-tile-pane { image-rendering: auto;      filter: none; }
[data-zoom="8"] .leaflet-tile-pane { image-rendering: auto;      filter: none; }

/* Floating control buttons (zoom in/out) */
.leaflet-control-zoom a {
  background: #1f2937 !important;
  color: #d1d5db !important;
  border-color: #374151 !important;
}
.leaflet-control-zoom a:hover {
  background: #374151 !important;
  color: #f3f4f6 !important;
}

/* ── Zone hover / click tooltip labels ──────────────────────── */
.map-zone-label {
  background: rgba(17, 24, 39, 0.85);
  border: 1px solid rgba(251, 191, 36, 0.5);
  border-radius: 4px;
  color: #fbbf24;
  font-size: 11px;
  font-weight: 600;
  padding: 2px 6px;
  white-space: nowrap;
  pointer-events: none;
}
.map-zone-label::before { display: none; }

/* ── Permanent marker text labels ───────────────────────────── */
.map-label {
  background: transparent;
  border: none;
  box-shadow: none;
  color: #ffffff;
  font-size: 11px;
  font-weight: 700;
  white-space: nowrap;
  pointer-events: none;
  text-shadow:
    -1px -1px 0 #000,
     1px -1px 0 #000,
    -1px  1px 0 #000,
     1px  1px 0 #000;
}
.map-label.city  { font-size: 13px; }
.map-label::before { display: none; }

/* ── Thin custom scrollbar for the sidebar ──────────────────── */
.sidebar-scroll {
  scrollbar-width: thin;
  scrollbar-color: #4b5563 transparent;
}
.sidebar-scroll::-webkit-scrollbar       { width: 4px; }
.sidebar-scroll::-webkit-scrollbar-thumb { background: #4b5563; border-radius: 2px; }
